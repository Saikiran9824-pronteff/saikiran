<?xml version="1.0" encoding="UTF-8"?>
<project name="apic-ci-cd" default="login" basedir=".">
    <description>
        Ant script for IBM API Connect CI/CD automation (Login only).
    </description>

    <!-- Load environment properties dynamically -->
    <property file="environments/${env}.properties"/>

    <!-- ðŸ”’ Hardcoded credentials (replace with Jenkins credentials in prod) -->
    <property name="apic.username" value="umesh"/>
    <property name="apic.password" value="!n0r1t5@C"/>

    <!-- Login -->
    <target name="login">
        <echo message="Logging into API Connect at ${apic.server}..."/>
        <exec executable="/bin/bash" failonerror="true">
            <arg value="-c"/>
            <arg value="/usr/local/bin/apic login --server=${apic.server} --username=${apic.username} --password=${apic.password} --realm=${apic.realm} --accept-license"/>
        </exec>
    </target>

</project>
